<aside class="sidebar">
    <div class="sidebar-header">
        <div class="user-info">
            <% if (user) { %>
                <img src="<%= user.profilePicture || '/images/default-avatar.png' %>" alt="Profile" class="user-avatar">
                <div class="user-details">
                    <h4><%= user.name %></h4>
                    <span class="user-role"><%= user.role.charAt(0).toUpperCase() + user.role.slice(1) %></span>
                </div>
            <% } else { %>
                <img src="/images/default-avatar.png" alt="Guest" class="user-avatar">
                <div class="user-details">
                    <h4>Guest User</h4>
                    <span class="user-role">Visitor</span>
                </div>
            <% } %>
        </div>
        <button class="close-sidebar">
            <i class="fas fa-times"></i>
        </button>
    </div>
    
    <div class="sidebar-content">
        <nav class="sidebar-nav">
            <div class="nav-section">
                <h5>Main Menu</h5>
                <ul>
                    <% if (!user || user.role !== 'teacher') { %>
                    <li>
                        <a href="/dashboard" class="<%= path === '/dashboard' ? 'active' : '' %>">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <% } %>
                    <li>
                        <a href="/courses" class="<%= path === '/courses' ? 'active' : '' %>">
                            <i class="fas fa-book"></i>
                            <span>Courses</span>
                        </a>
                    </li>
                    <!-- <li>
                        <a href="/playlists" class="<%= path === '/playlists' ? 'active' : '' %>">
                            <i class="fas fa-list"></i>
                            <span>Playlists</span>
                        </a>
                    </li> -->
                </ul>
            </div>
            
            <% if (user && user.role === 'teacher') { %>
                <div class="nav-section">
                    <h5>Teacher Tools</h5>
                    <ul>
                        <li>
                            <a href="/courses/create" class="<%= path === '/courses/create' ? 'active' : '' %>">
                                <i class="fas fa-plus-circle"></i>
                                <span>Create Course</span>
                            </a>
                        </li>
                        
                        
                    </ul>
                </div>
            <% } %>
            
            <% if (user && user.role === 'teacher') { %>
                <div class="sidebar-group">
                    <h3 class="sidebar-title">Teacher</h3>
                    <a href="/teacher/courses" class="sidebar-link <%= (path === '/teacher/courses' || path.startsWith('/courses/create') || path.includes('/manage')) ? 'active' : '' %>">
                        <i class="fas fa-chalkboard-teacher"></i>
                        <span>My Courses</span>
                    </a>
                </div>
            <% } %>
            
            <div class="nav-section">
                <h5>Account</h5>
                <ul>
                    <li>
                        <a href="/profile" class="<%= path === '/profile' ? 'active' : '' %>">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </a>
                    </li>
                    <li>
                        <a href="/settings" class="<%= path === '/settings' ? 'active' : '' %>">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                    <li>
                        <a href="/help" class="<%= path === '/help' ? 'active' : '' %>">
                            <i class="fas fa-question-circle"></i>
                            <span>Help Center</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
    
    <div class="sidebar-footer">
        <% if (user) { %>
            <a href="/logout" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        <% } else { %>
            <a href="/login" class="login-btn">
                <i class="fas fa-sign-in-alt"></i>
                <span>Login</span>
            </a>
        <% } %>
    </div>
</aside>

<div class="sidebar-overlay"></div>